## SW Expert Academy
### 2383. [모의 SW 역량테스트] 점심 식사시간

문제 출처: https://swexpertacademy.com/main/code/problem/problemDetail.do?contestProbId=AV5-BEE6AK0DFAVl&categoryId=AV5-BEE6AK0DFAVl&categoryType=CODE
    
#### 문제

     계단이 두개 존재하고, 그 계단과 방 안 사람들의 위치 정보가 주어진다. 
     벽은 없기 때문에 최단 거리 이동 시간은 두 위치간 row 값의 차의 절댓값과 col 값의 차의 절댓값의 합으로 제시되었다. 
     각 계단은 최대 3명까지만 동시에 이용할 수 있다. 이미 계단을 3명이 내려가고 있는 경우, 
     한 명이 계단을 완전히 내려갈 때까지 계단 입구에서 대기한다.
     계단을 내려가는 시간은 계단의 길이만큼 소요되는데 이는 map 정보에 포함되어 주어진다.


#### 접근

  P2382 미생물 격리 문제와 마찬가지로 BFS가 아닌 일반적인 시뮬레이션 문제로 보였다. 두개 이상의 이동 주체가 일정한 규칙으로 이동을 진행할 때, 원하는 결과값을 얻는 문제였다.

  사람과 계단이라는 구별된 객체가 존재하는데 사람 정보만 구조체로 정의하였다. 각 계단까지의 거리와 위치 정보를 포함하고 있고 그 자료형의 vector에서 index 값은 번호 정보를 의미한다.

  또한 계단을 이용하는 사람 정보도 따로 정의하여 각 계단에 queue를 할당하고 이용하기 시작한 시간과 번호 정보를 할당하여 현재 단위 시간에 그 시작 시간과의 차가 이용중인 계단의 길이 크기와 같다면 queue에서 pop하는 것으로 하였다.
    
#### 시행착오
 
  따로 기억이 안나는데 세부 조건이 까다롭다보니 꼼꼼하게 checking하며 구현하는 것이 좀 오래 걸렸다.

#### 최종 구현
  
  [접근](#접근)에서 제시한 계단 이용자 큐에 더해 계단 대기열 큐도 필요했다. 각 계단마다 waitingRow를 선언하여 이용자 큐의 size가 3보다 작아진다면 waitingRow에서 pop하여 이용자 큐에 push하는 로직으로 구현했다. 

  이때, 이용자 큐에서 pop하는 과정과 waitingRow에 push하는 과정, 계단 위에 있지 않은 이용자들을 처리하는 과정 등의 순서를 배치하는 것을 꼼꼼히 구현하는 것이 중요했던 것 같다.

  그리고 계단 입구까지 이동이 완료된 사람의 위치를 {-1,-1}로 설정하여 vector 내의 number data를 잃지 않으면서 계단 위의 사람과 계단 위에 있지 않은 사람을 구분할 수 있도록 구현했다.
 
#### 개선
  
  코드가 조금 지저분한데 계단을 구조체화 하여 대기열과 이용자열 queue를 attribute으로 가지게 한다면 더 깔끔했을 것 같다.

  시뮬레이션 문제로 시간복잡도 개선은 없어보인다.